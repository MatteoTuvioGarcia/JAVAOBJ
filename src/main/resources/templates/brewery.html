<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <meta name="description" content=""/>
    <meta name="author" content=""/>
    <title>Example</title>
    <link href="https://cdn.jsdelivr.net/npm/simple-datatables@latest/dist/style.css" rel="stylesheet"/>
    <link th:href="${'/css/styles.css'}" rel="stylesheet"/>
    <link th:href="${'/css/custom.css'}" rel="stylesheet"/>
    <script src="https://use.fontawesome.com/releases/v6.1.0/js/all.js" crossorigin="anonymous"></script>
</head>
<body class="sb-nav-fixed">
<nav class="sb-topnav navbar navbar-expand navbar-dark bg-dark">
    <!-- Navbar Brand-->
    <a class="navbar-brand ps-3" th:href="@{/}">Brasserie</a>
    <!-- Sidebar Toggle-->
    <button class="btn btn-link btn-sm order-1 order-lg-0 me-4 me-lg-0" id="sidebarToggle" href="#!"><i
            class="fas fa-bars"></i></button>
</nav>
<div id="layoutSidenav">
    <div th:insert="~{/left_bar}"></div>
    <div id="layoutSidenav_content">
        <main>
            <div class="container-fluid px-4">
                <ol class="breadcrumb mb-4">
                    <li class="breadcrumb-item active" th:text="${brasserie.getNomBrasserie()}"></li>
                </ol>
                <div class="row">

                    <div class="row">
                        <div class="col-xl-6">
                            <div class="card mb-4">
                                <div class="card-header">
                                    Fiche brasserie
                                </div>
                                <div class="card-body">
                                    <form method="POST" th:action="@{/mod-brewery}" th:object="${brasserie}">
                                        <label for="codeBrasserie">Code Brasserie:</label>
                                        <input typeBiere="text" th:field="*{codeBrasserie}" readonly
                                               class="form-control my-3" name="codeBrasserie"
                                               id="codeBrasserie"
                                               th:value="${brasserie.getCodeBrasserie()}"/>
                                        <label for="nomBrasserie">Nom brasserie:</label>
                                        <input typeBiere="text" th:field="*{nomBrasserie}" class="form-control my-3"
                                               name="nomBrasserie"
                                               id="nomBrasserie"
                                               th:value="${brasserie.getNomBrasserie()}"/>
                                        <label for="ville">Ville:</label>
                                        <input typeBiere="text" th:field="*{ville}" class="form-control my-3" name="ville"
                                               id="ville"
                                               th:value="${brasserie.getVille()}"/>
                                        <label for="regionSelect">RÃ©gion: </label>
                                        <select name="region" id="regionSelect" th:field="*{region}"
                                                class="form-select">
                                            <th:block th:each="region: ${regions}">
                                                <th:block
                                                        th:if="${region.getNomRegion} == ${brasserie.getRegion.getNomRegion()}">
                                                    <option selected th:value="${region.getNomRegion()}"
                                                            th:text="${region.getNomRegion()}"/>
                                                </th:block>
                                                <th:block
                                                        th:if="${region.getNomRegion} != ${brasserie.getRegion.getNomRegion()}">
                                                    <option th:value="${region.getNomRegion()}"
                                                            th:text="${region.getNomRegion()}"/>
                                                </th:block>
                                            </th:block>
                                        </select>

                                        <button typeBiere="submit" class="btn-primary form-control my-3">Modifier</button>
                                    </form>
                                    <form method="POST" th:action="@{/del-brewery}" th:object="${brasserie}">
                                        <input typeBiere="text" th:field="*{codeBrasserie}" hidden readonly
                                               class="form-control my-3" name="codeBrasserie"
                                               id="codeBrasserie"
                                               th:value="${brasserie.getCodeBrasserie()}"/>

                                        <input typeBiere="text" th:field="*{nomBrasserie}" hidden class="form-control my-3"
                                               name="nomBrasserie"
                                               id="nomBrasserie"
                                               th:value="${brasserie.getNomBrasserie()}"/>

                                        <input typeBiere="text" th:field="*{ville}" class="form-control my-3" hidden
                                               name="ville" id="ville"
                                               th:value="${brasserie.getVille()}"/>

                                        <select name="region" id="regionSelect" hidden th:field="*{region}"
                                                class="form-select">
                                            <th:block th:each="region: ${regions}">
                                                <th:block
                                                        th:if="${region.getNomRegion} == ${brasserie.getRegion.getNomRegion()}">
                                                    <option selected th:value="${region.getNomRegion()}"
                                                            th:text="${region.getNomRegion()}"/>
                                                </th:block>
                                                <th:block
                                                        th:if="${region.getNomRegion} != ${brasserie.getRegion.getNomRegion()}">
                                                    <option th:value="${region.getNomRegion()}"
                                                            th:text="${region.getNomRegion()}"/>
                                                </th:block>
                                            </th:block>
                                        </select>
                                        <button typeBiere="submit" class="btn-danger form-control my-3">DELETE</button>
                                    </form>
                                    <button class="btn-primary form-control my-3" onclick="history.back()">Retour
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        crossorigin="anonymous"></script>
<script th:src="${'/js/scripts.js'}"></script>
<script src="https://cdn.jsdelivr.net/npm/simple-datatables@latest" crossorigin="anonymous"></script>
</body>
</html>